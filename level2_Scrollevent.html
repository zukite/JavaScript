<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Scroll Event</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link href="main.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>

<body>

    <nav class="navbar navbar-light bg-light">
        <div class="container-fluid">
            <span class="navbar-brand title">Scroll Event</span>
            <span class="badge bg-dark">Dark ğŸ”„</span>
            <button class="navbar-toggler" type="button">
                <span class="navbar-toggler-icon"></span>
            </button>
        </div>
    </nav>
    <div class="progress" role="progressbar" aria-label="Example 1px high" aria-valuenow="25" aria-valuemin="0"
        aria-valuemax="100" style="height: 1px">
        <div class="progress-bar"></div>
    </div>


    <div style="height: 100px;"></div>


    <div class="lorem" style="width: 200px;height: 100px;overflow-y: scroll;">Lorem ipsum dolor, sit amet consectetur
        adipisicing
        elit. Doloremque voluptate ut, odio veniam sequi corrupti enim autem voluptatem modi consequuntur porro optio
        nobis saepe dolorem, sed fugiat esse consectetur numquam.</div>


    <script>
        // window -> ì „ì²´í˜ì´ì§€ ì˜ë¯¸
        // documentë„ ì „ì²´í˜ì´ì§€ì„ windowê°€ ì•½ê°„ ë” í° ê°œë…ì¸ë° scroll ì´ë²¤íŠ¸ë¦¬ìŠ¤ë„ˆëŠ” ê´€ìŠµì ìœ¼ë¡œ windowì— ë¶™ì„
        // window.scrollY : í˜„ì¬ í˜ì´ì§€ë¥¼ ìœ„ì—ì„œë¶€í„° ì–¼ë§ˆë‚˜ ìŠ¤í¬ë¡¤í–ˆëŠ”ì§€ px ë‹¨ìœ„ë¡œ ì•Œë ¤ì¤Œ 
        // window.scrollTo(x, y) : ê°•ì œë¡œ ìŠ¤í¬ë¡¤ë°”ë¥¼ ì›€ì§ì¼ ìˆ˜ ìˆìŒ ->xìœ„ì¹˜ë¶€í„° yìœ„ì¹˜ë¡œ ê°•ì œ ìŠ¤í¬ë¡¤
        // window.scrollBy(x, y) : í˜„ì¬ ìœ„ì¹˜ì—ì„œë¶€í„° ìŠ¤í¬ë¡¤ -> xìœ„ì¹˜ì—ì„œë¶€í„° yë§Œí¼ ìŠ¤í¬ë¡¤
        // -> bootstrapì„ ì„¤ì¹˜í–ˆì„ ê²½ìš° ì´ìƒí•˜ê²Œ ì²œì²œíˆ ì´ë™í•  ìˆ˜ ìˆìŒ => :root { scroll-behavior : auto } ì´ê±¸ css íŒŒì¼ ë§¨ ìœ„ì— ì¶”ê°€

        // window.addEventListener('scroll', function () {
        //     console.log('ì•ˆë…•')
        // });

        $(window).on('scroll', function () {
            var scroll = window.scrollY;
            if (scroll > 100) {
                $('.navbar-brand').css('font-size', '20px');
            }
            else {
                $('.navbar-brand').css('font-size', '30px');
            }
        })

        // divì˜ ìŠ¤í¬ë¡¤ë°” ë‚´ë¦° ì–‘ + ëˆˆì— ë³´ì´ëŠ” div ë†’ì´ == divì˜ ì‹¤ì œë†’ì´
        // .scrollTop : ìŠ¤í¬ë¡¤ë°”ë¥¼ ìœ„ì—ì„œ ë¶€í„° ì–¼ë§ˆë‚˜ ë‚´ë ¸ëŠ”ì§€ í™•ì¸ê°€ëŠ¥
        // .scrollHeight : ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ì‹¤ì œ ë†’ì´
        // .clientHeight : div ë°•ìŠ¤ê°€ í™”ë©´ì— ë³´ì´ëŠ” ë¶€ë¶„ ë†’ì´
        // ìŠ¤í¬ë¡¤ë°” ë‚´ë¦´ ì–‘ê³¼ divì‹¤ì œ ë†’ì´ëŠ” ë‹¤ë¦„ => ìŠ¤í¬ë¡¤ë°” ë‚´ë¦° ì–‘ì€ ì§„ì§œ ìŠ¤í¬ë¡¤ë°”ë¥¼ ë‚´ë¦° ì–‘ì¼ ë¿ì´ë¼(ë°•ìŠ¤ê°€ ë³´ì´ëŠ” ë†’ì´ëŠ” í¬í•¨ X)

        $('.lorem').on('scroll', function () {
            var ìŠ¤í¬ë¡¤ì–‘ = document.querySelector('.lorem').scrollTop;
            var ì‹¤ì œë†’ì´ = document.querySelector('.lorem').scrollHeight;
            var ë†’ì´ = document.querySelector('.lorem').clientHeight;

            if (ìŠ¤í¬ë¡¤ì–‘ + ë†’ì´ > ì‹¤ì œë†’ì´ - 10) {
                alert('í™•ì¸í•¨?');
            }
        })

        // scroll ë‹¤ë£° ë•Œ ì£¼ì˜ì 
        // 1. scroll ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì•ˆì˜ ì½”ë“œëŠ” 1ì´ˆì— 60ë²ˆ ì´ìƒ ì‹¤í–‰ë¨
        // 2. ë°”ë‹¥ì²´í¬ë„ ì—¬ëŸ¬ë²ˆ ì¤‘ë³µìœ¼ë¡œ í•´ì¤Œ

        // Q. í˜„ì¬í˜ì´ì§€ ëê¹Œì§€ ìŠ¤í¬ë¡¤ ì²´í¬ëŠ”? => html íƒœê·¸ë¥¼ ì°¾ëŠ”ë‹¤
        document.querySelector('html').scrollHeight; // í˜„ì¬í˜ì´ì§€ ì‹¤ì œë†’ì´ => í˜ì´ì§€ ë¡œë“œì™„ë£Œì‹œ ì‹¤í–‰í•´ì•¼ ì •í™• -> <body>ëë‚˜ê¸° ì „ì— ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ì€ ê´€ìŠµ
        document.querySelector('html').clientHeight; //í˜ì´ì§€ ë³´ì´ëŠ” ë¶€ë¶„ ë†’ì´(ë¸Œë¼ìš°ì € í¬ê¸°)
        // document.querySelector('html').scrolTop;
        window.scrollY; // í˜„ì¬í˜ì´ì§€ ìŠ¤í¬ë¡¤ ì–‘

        // ì´í•´í•´ì•¼ í•˜ëŠ” ê²ƒ
        // 1. ìŠ¤í¬ë¡¤ë°” ì¡°ì‘í•  ë•Œë§ˆë‹¤ ì½”ë“œ ì‹¤í–‰ ê°€ëŠ¥
        // 2. <div> ì‹¤ì œë†’ì´/ë³´ì´ëŠ” ë†’ì´ êµ¬í•  ìˆ˜ ìˆìŒ
        // 3. ìŠ¤í¬ë¡¤ì–‘ êµ¬í•  ìˆ˜ ìˆìŒ

        $(window).on('scroll', function () {
            var ì „ì²´ë†’ì´ = document.querySelector('html').scrollHeight;
            var í˜„ì¬ìœ„ì¹˜ = window.scrollY;
            var í™”ë©´ë†’ì´ = document.querySelector('html').clientHeight;

            var í¼ì„¼íŠ¸ = (í˜„ì¬ìœ„ì¹˜ / (ì „ì²´ë†’ì´ - í™”ë©´ë†’ì´)) * 100;

            $('.progress-bar').css('width', `${í¼ì„¼íŠ¸}%`)



        })


    </script>

    <div style="height: 3000px;"></div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
</body>

</html>