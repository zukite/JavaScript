<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Modal demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <link href="main.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
</head>

<body>

    <div class="black-bg show-modal">
        <div class="white-bg">
            <h4>로그인하세요</h4>
            <!-- 
            form은 서버로 유저정보 전송하려고 쓰는 것  
            -->
            <form action="success.html">
                <!-- 폼 전송시 이동할 페이지(success.html) 기입란 -->
                <div class="my-3">
                    <input type="text" class="form-control" id="idValue">
                </div>
                <div class="my-3">
                    <input type="password" class="form-control" id="pwValue">
                </div>
                <button type="submit" class="btn btn-primary" id="send">전송</button>
                <button type="button" class="btn btn-danger" id="close">닫기</button>
            </form>

        </div>
    </div>

    <script>
        document.querySelector("#send").addEventListener('click', function () {
            var idValue = document.getElementById('idValue').value;
            var pwValue = document.getElementById('pwValue').value;

            if (idValue == '' && pwValue == '') {
                alert('아이디와 비밀번호를 채우세요');
            }
            else if (idValue == '') {
                alert('아이디를 채우세요');
            }
            else if (pwValue == '') {
                alert('비밀번호 채우세요');
            }
            else if (pwValue.length < 6) {
                alert('6자 미만입니다')
            }
        })
    </script>

    <div class="main-bg">
        <h4>Shirts on Sale</h4>
        <button id="login" class="btn btn-danger">로그인</button>
    </div>


    <script>
        // document.querySelector('.login').addEventListsener('click', function () {
        //     document.querySelector('.black-bg').style.display = 'block';
        // })

        $('#login').on('click', function () {
            $('.black-bg').addClass('show-modal');
        })
        // UI에 애니메이션 추가하려면 
        // - 가능하면 css만으로 처리하는게 좋음
        // one-way UI 애니메이션 만드는 법 A상태->B상태
        // 1. 시작스타일 만들기(class로 만들기)
        // 2. 최종스타일 만들기 (class로 만들기)
        // 3. 원할 때 최종스타일로 변하라고 코드 작성
        // 4. transition 추가

        // document.querySelector('#close').addEventListener('click', function () {
        //     document.querySelector('.black-bg').style.display = 'none';
        // })

        $('#close').on('click', function () {
            $('.black-bg').removeClass('show-modal');
        })
        // document.getElementById('close').addEventListener('click', function () {
        //     document.querySelector('.black-bg').classList.remove('show-modal');
        // })

    </script>

    <script>
        document.querySelector('.black-bg').addEventListener('click', function (e) {
            if (e.target == document.querySelector('.black-bg')) {
                document.querySelector('.black-bg').classList.remove('show-modal');
            }

        })


        // 모든 브라우저는 이벤트 버블링이 일어남(이벤트가 강위 html로 퍼지는 현상)
        // 유용한 이벤트 관련 함수들
        // e.target;   // 유저가 실제로 누른 것
        // e.currentTarget;    // 이벤트리스너 달린 곳(== this)
        // e.preventDefault(); // 이벤트 기본동작 막아줌(클릭 안한 것처럼 동작해 줌)
        // e.stopPropagation();    // 내 상위요소로 이벤트버블링 막아줌

    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
</body>

</html>